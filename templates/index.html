{% extends "main.html" %}

{% block title %}Test Message App | Home{% endblock %}

{% block content %}

    <div class="container" ng-app="myApp">

        <div class="row">
            <div class="col-md-4">
                <h2>Say something</h2>
                <form id="mainform" method="post">
                    <div class="form-group">
                        <label for="username">Sender:</label>
                        <input id="username" class="form-control" name="username" placeholder="Sender" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Enter your message:</label>
                        <input id="message" class="form-control" name="message" placeholder="Your message here" required>
                    </div>
                    <input class="btn btn-default" type="submit" value="Submit">
                </form>

            </div>
            <div class="col-md-8" ng-controller="MainCtrl">
            {% raw %}
                <h2>Messages</h2>
                <div ng-repeat="message in messages.messages">
                    <p>On {{ message.dt }} {{ message.sender }} said:</p>
                    <p>{{ message.message }}</p>
                </div>
            {% endraw %}

            </div>
        </div>
    </div>

{% endblock %}